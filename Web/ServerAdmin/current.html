<!-- #include file="header.inc" -->

<div id="content">

<%news%>

<table width="100%">
<colgroup>
    <col width="50%"/>
    <col width="50%"/>
</colgroup>
<tr>
<td>

<h3>Current Game</h3>
<dl id="currentGame">
    <dt>Server Name</dt>
    <dd><%server.name%></dd>
    <dt>Administrator</dt>
    <dd><a href="mailto:<%server.admin.name%>"><%server.admin.email%></a></dd>
    <dt>MOTD</dt>
    <dd><%server.motd%></dd>
    <dt>Game type</dt>
    <dd><%game.name%><br /><code><%game.type%></code></dd>
    <dt>Map</dt>
    <dd><code><%map.name%></code><br /><%map.title%></dd>
    <dt>Mutators</dt>
    <dd><%mutators%></dd>
</dl>

</td>
<td>

<h3>Rules</h3>
<dl id="currentRules">
    <dt>Time Limit</dt>
    <dd><%rules.timelimit%> minutes<br /><%time.remaining%> seconds remaining</dd>
    <dt>Goal Score</dt>
    <dd><%rules.goalscore%></dd>
    <dt>Maximum Lives</dt>
    <dd><%rules.maxlives%></dd>
    <dt>Maximum Players</dt>
    <dd><%rules.maxplayers%></dd>
    <dt>Maximum Spectators</dt>
    <dd><%rules.maxspectators%></dd>
</dl>

</td>
</tr>
</table>

<h3>Players</h3>
<table id="players" class="grid">
<thead>
<tr>
    <th>&nbsp;</th>
    <th><a href="<%page.fulluri%>?sortby=name&amp;reverse=<%reverse.name%>" class="sortable <%sorted.name%>">Player name</a></th>
    <th><a href="<%page.fulluri%>?sortby=ranking&amp;reverse=<%reverse.ranking%>" class="sortable <%sorted.ranking%>">Ranking</a></th>
    <th><a href="<%page.fulluri%>?sortby=score&amp;reverse=<%reverse.score%>" class="sortable <%sorted.score%>">Score</a></th>
    <th><a href="<%page.fulluri%>?sortby=deaths&amp;reverse=<%reverse.deaths%>" class="sortable <%sorted.deaths%>">Deaths</a></th>
    <th><a href="<%page.fulluri%>?sortby=kills&amp;reverse=<%reverse.kills%>" class="sortable <%sorted.kills%>">Kills</a></th>
    <th><a href="<%page.fulluri%>?sortby=ping&amp;reverse=<%reverse.ping%>" class="sortable <%sorted.ping%>">Ping</a></th>
    <th>Bot</th>
    <th>Admin</th>
</tr>
</thead>
<tbody>
<%players%>
</tbody>
</table>

<script type="text/javascript">
//<![CDATA[
$(document).ready(function(){
     // bug in sortedtable causes a javascript error when the table is empty.
    if ($("#players td").size() <= 1) return;
    $("#players th a").each(function(){
        jthis = $(this);
        jthis.before(jthis.html());
        jthis.remove();
    });
    $("#players th").wrapInner("<span></span>");
    $("#players").tablesorter({sortList:[[3,1]], widgets: ['zebra']});
});
//]]>
</script>

</div>

<!-- #include file="navigation.inc" -->
<!-- #include file="footer.inc" -->
